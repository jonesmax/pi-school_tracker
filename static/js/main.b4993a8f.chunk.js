(this["webpackJsonppi-school_tracker"]=this["webpackJsonppi-school_tracker"]||[]).push([[0],{122:function(e,t,n){},147:function(e,t,n){},176:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(34),l=n.n(i),r=(n(147),n(76)),o=n(77),c=n(71),d=n(101),h=n(96),u=n(18),g=n.n(u),j=n(104),m=n(109),y=n.n(m),p=n(127),x=n(110),b=n.n(x),f=(n(122),n(177)),O=n(190),v=n(52),w=n(191),S=n(74),k=n(192),C=n(2),D=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={user:e.props,classes:null,colors:["teal","blue","purple","cyan"],assignments:null,schedule:null,modal:!1,currentAssignment:{name:"None Selected"},today:null,notes:null,modal2:!1,currentNote:{content:"None Selected"},date:new Date},e}return Object(o.a)(n,[{key:"getData",value:function(){var e=Object(p.a)(y.a.mark((function e(t){var n=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.a.get("https://maxwelljonesdesign.com/schedule/"+t).then((function(e){e.data&&n.setState({schedule:e.data})})),g.a.get("https://maxwelljonesdesign.com/assignments/"+t).then((function(e){e.data&&n.setState({assignments:e.data})})),g.a.get("https://maxwelljonesdesign.com/notes/"+t).then((function(e){e.data&&n.setState({notes:e.data})})),g.a.get("https://maxwelljonesdesign.com/classes/"+t).then((function(e){e.data&&n.setState({classes:e.data})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.getData(this.props.user.id),this.update=setInterval((function(){e.setState({date:new Date})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.update)}},{key:"logout",value:function(){console.log("logging out"),localStorage.setItem("user",null),this.setState({user:null}),window.location.reload(!0)}},{key:"createClass",value:function(){var e=prompt("Please enter the name of the class"),t=prompt("Please enter the prof of the class"),n={user_id:this.props.user.id,name:e,prof:t};g.a.post("https://maxwelljonesdesign.com/classes/create",n).then((function(e){e.data?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"createSchedule",value:function(){var e="";this.state.classes.forEach((function(t){e+="\nID: "+t.id+" - "+t.name}));var t=prompt("Please enter the id of the class,"+e),n=prompt("Please enter the day of the week"),a=prompt("Please enter when the class starts"),s=prompt("Please enter the length of the class"),i=prompt("Please enter the link (optional)"),l={user_id:this.props.user.id,class_id:t,dayOfWeek:n,timeStart:a,length:s,link:i};g.a.post("https://maxwelljonesdesign.com/schedule/create",l).then((function(e){e.data?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"createAssignment",value:function(){var e="";this.state.classes.forEach((function(t){e+="\nId: "+t.id+" - "+t.name+" "}));var t=prompt("Please enter the id of the class,"+e),n=prompt("Please enter the due date (yyyy-mm-dd)"),a=prompt("Please enter the name"),s=prompt("Please enter the importance (1-10)"),i=prompt("Please enter the link (optional)"),l=prompt("Please enter the type (0 = assignemnt/lab 1 = evalulation)"),r={user_id:this.props.user.id,class_id:t,due_date:n,name:a,importance:s,type:l,status:0,link:i};g.a.post("https://maxwelljonesdesign.com/assignments/create",r).then((function(e){e.data?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"deleteClass",value:function(e){g.a.get("https://maxwelljonesdesign.com/classes/delete/"+e.id).then((function(e){200===e.status?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"preDeleteAsign",value:function(e){this.setState({currentAssignment:e,modal:!0})}},{key:"preDeleteNote",value:function(e){this.setState({currentNote:e,modal2:!0})}},{key:"deleteAssignment",value:function(){var e=this.state.currentAssignment;g.a.get("https://maxwelljonesdesign.com/assignments/delete/"+e.id).then((function(e){200===e.status?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"deleteSchedule",value:function(e){g.a.get("https://maxwelljonesdesign.com/schedule/delete/"+e.id).then((function(e){200===e.status?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"navBar",value:function(){var e=this;return Object(C.jsxs)("div",{style:{width:"100%",padding:".75rem",backgroundColor:"rgba(33,43,78,255)"},children:[Object(C.jsx)(f.a,{style:{backgroundColor:"rgba(33,53,108,255)",color:"white"},children:Object(C.jsx)(O.a,{text:"Classes",pointing:!0,children:Object(C.jsxs)(O.a.Menu,{children:[Object(C.jsx)(O.a.Item,{onClick:function(){return e.createClass()},children:"Create"}),Object(C.jsx)(O.a.Item,{children:Object(C.jsx)(O.a,{text:"Delete",pointing:!0,children:Object(C.jsx)(O.a.Menu,{children:this.state.classes&&this.state.classes.map((function(t){return Object(C.jsx)(O.a.Item,{onClick:function(){return e.deleteClass(t)},children:t.name},t.id)}))})})})]})})}),Object(C.jsx)(f.a,{style:{backgroundColor:"rgba(33,53,108,255)",color:"white"},children:Object(C.jsx)(O.a,{text:"Schedule",pointing:!0,children:Object(C.jsxs)(O.a.Menu,{children:[Object(C.jsx)(O.a.Item,{onClick:function(){return e.createSchedule()},children:"Create"}),Object(C.jsx)(O.a.Item,{children:Object(C.jsx)(O.a,{text:"Delete",pointing:!0,children:Object(C.jsx)(O.a.Menu,{children:this.state.schedule&&this.state.schedule.map((function(t){return Object(C.jsxs)(O.a.Item,{onClick:function(){return e.deleteSchedule(t)},children:[t.class_id," - ",t.dayOfWeek," at ",t.timeStart]},t.id)}))})})})]})})}),Object(C.jsx)(f.a,{onClick:function(){return e.logout()},style:{float:"right",margin:"auto",textAlign:"center",backgroundColor:"rgba(33,53,108,255)",color:"white",marginRight:"5px"},children:Object(C.jsx)(v.a,{style:{textAlign:"center",margin:"auto"},name:"unlock"})})]})}},{key:"getDate",value:function(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][(e=new Date(e)).getUTCDay()];return e.getUTCMonth()+1+"/"+(e.getUTCDate()<9?""+e.getUTCDate():e.getUTCDate())+" "+t}},{key:"getToday",value:function(){var e=new Date,t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],n=e.getDate()<10?"0"+e.getDate():e.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],s=e.getFullYear();e.getHours()>12||e.getHours(),e.getHours(),e.getMinutes(),e.getMinutes(),e.getHours();return t+" "+n+" "+a+", "+s}},{key:"getDaysFromDay",value:function(e){var t=b()(e),n=b()();return t.diff(n,"days")+1}},{key:"tableBoard",value:function(e){var t=this;return e.sort((function(e,t){return new Date(e.due_date)-new Date(t.due_date)})).map((function(e){return Object(C.jsxs)(w.a.Row,{onClick:function(){return t.preDeleteAsign(e)},color:"blue",children:[Object(C.jsx)(w.a.Cell,{id:"tbody",children:t.getClassName(e.class_id).slice(0,4)}),Object(C.jsx)(w.a.Cell,{id:"tbody",children:e.name}),Object(C.jsx)(w.a.Cell,{id:"tbody",children:t.getDate(e.due_date)}),Object(C.jsx)(w.a.Cell,{id:"tbody",children:t.getDaysFromDay(e.due_date)})]},e.id)}))}},{key:"getClassName",value:function(e){for(var t=this.state.classes,n=0;n<t.length;n++)if(t[n].id===e)return t[n].name;return"error"}},{key:"closeModal",value:function(){this.setState({modal:!1})}},{key:"closeModal2",value:function(){this.setState({modal2:!1})}},{key:"click",value:function(e){var t,n=new Date;t=null===this.state.today?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()]:this.state.today,"left"===e&&("Sunday"===t?t="Saturday":"Monday"===t?t="Sunday":"Tuesday"===t?t="Monday":"Wednesday"===t?t="Tuesday":"Thursday"===t?t="Wednesday":"Friday"===t?t="Thursday":"Saturday"===t&&(t="Friday")),"right"===e&&("Sunday"===t?t="Monday":"Monday"===t?t="Tuesday":"Tuesday"===t?t="Wednesday":"Wednesday"===t?t="Thursday":"Thursday"===t?t="Friday":"Friday"===t?t="Saturday":"Saturday"===t&&(t="Sunday")),this.setState({today:t})}},{key:"addNote",value:function(e){var t=prompt("Please enter the note:"),n={user_id:this.props.user.id,class_id:e.id,content:t};g.a.post("https://maxwelljonesdesign.com/notes/create",n).then((function(e){e.data?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"deleteNote",value:function(e){g.a.get("https://maxwelljonesdesign.com/notes/delete/"+e.id).then((function(e){200===e.status?(console.log("success"),window.location.reload(!0)):console.log("fail")}))}},{key:"piProject",value:function(){var e,t=this,n=(this.state.classes,this.state.schedule),a=this.state.today;if(null===a){a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()]}for(var s,i=[],l=0;l<n.length;l++)n[l].dayOfWeek===a&&i.push(n[l]);return s=i.length>0?i.sort((function(e,t){return e.timeStart-t.timeStart})).map((function(e){return Object(C.jsxs)(S.a,{color:"blue",style:{width:"100%",padding:"4%",marginTop:"2%",marginBottom:"2%"},children:[Object(C.jsxs)("div",{style:{width:"100%",textAlign:"center",fontSize:"16px",letterSpacing:"2px",padding:"3%"},children:[12===e.timeStart?e.timeStart+"PM":e.timeStart<12?e.timeStart+"AM":e.timeStart-12+"PM"," - ",e.timeStart+e.length===12?e.timeStart+e.length+"PM":e.timeStart+e.length>12?e.timeStart+e.length-12+"PM":e.timeStart+e.length+"AM"]}),Object(C.jsx)("div",{style:{width:"100%",textAlign:"center",fontSize:"16px",padding:"1%"},children:t.getClassName(e.class_id).toUpperCase().substring(5)})]},e.id)})):Object(C.jsx)("div",{style:{width:"100%",textAlign:"center"},children:"no class today"}),Object(C.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(C.jsxs)("div",{style:{width:"13%",height:"100vh",backgroundColor:"rgb(33,43,78)",textAlign:"center",display:"inline-block"},children:[Object(C.jsx)(f.a,{color:"orange",style:{color:"white",width:"80%",margin:"10%",height:"15vh"},children:Object(C.jsx)(O.a,{icon:{name:"object group outline",size:"big"},children:Object(C.jsxs)(O.a.Menu,{children:[Object(C.jsx)(O.a.Item,{onClick:function(){return t.createClass()},children:"Create"}),Object(C.jsx)(O.a.Item,{children:Object(C.jsx)(O.a,{text:"DELETE",children:Object(C.jsx)(O.a.Menu,{children:this.state.classes&&this.state.classes.map((function(e){return Object(C.jsx)(O.a.Item,{onClick:function(){return t.deleteClass(e)},children:e.name},e.id)}))})})})]})})}),Object(C.jsx)(f.a,{color:"orange",style:{color:"white",width:"80%",margin:"10%",height:"15vh"},children:Object(C.jsx)(O.a,{icon:{name:"calendar alternate",size:"big"},style:{fontSize:"14px"},pointing:!0,children:Object(C.jsxs)(O.a.Menu,{children:[Object(C.jsx)(O.a.Item,{onClick:function(){return t.createSchedule()},children:"Create"}),Object(C.jsx)(O.a.Item,{children:Object(C.jsx)(O.a,{text:"DELETE",pointing:!0,children:Object(C.jsx)(O.a.Menu,{children:this.state.schedule&&this.state.schedule.map((function(e){return Object(C.jsxs)(O.a.Item,{onClick:function(){return t.deleteSchedule(e)},children:[e.class_id," - ",e.dayOfWeek," at ",e.timeStart]},e.id)}))})})})]})})}),Object(C.jsx)(f.a,{style:{color:"white",width:"80%",margin:"10%",height:"15vh"},icon:{name:"list ol",size:"big"},onClick:function(){return t.createAssignment()},color:"orange"}),Object(C.jsx)("div",{style:{paddingTop:"32vh"},children:Object(C.jsx)(f.a,{onClick:function(){return t.logout()},style:{textAlign:"center",backgroundColor:"rgba(33,53,108,255)",color:"white"},children:Object(C.jsx)(v.a,{style:{textAlign:"center",margin:"auto"},color:"white",name:"unlock"})})})]}),Object(C.jsxs)("div",{style:{width:"87%",height:"100vh"},children:[Object(C.jsx)("div",{style:{borderRadius:"15px",margin:"auto",marginTop:"5%",width:"90%",height:"25vh",backgroundColor:"rgba(33,53,108,0.7)",display:"flex",justifyContent:"center",alignContent:"center"},children:Object(C.jsxs)("div",{style:{width:"100%",margin:"7%",textAlign:"center",marginTop:"1%"},children:[Object(C.jsx)("h2",{style:{color:"white",marginTop:"3%",fontSize:"50px",fontFamily:"monospace",marginBottom:"5px",textShadow:"5px 3px 0px black"},children:this.state.date.toLocaleTimeString()}),Object(C.jsx)("h3",{style:(e={letterSpacing:"12px",color:"white",marginTop:"0px"},Object(j.a)(e,"color","rgb(255, 115, 0)"),Object(j.a)(e,"fontSize","22px"),Object(j.a)(e,"textShadow","1px 1px 0px orange"),e),children:this.getToday().toUpperCase()})]})}),Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)(k.a,{style:{width:"500px",display:"inline-block",height:"54vh",margin:"5%",backgroundColor:"rgba(33,53,108,0.7)"},id:"cardMain",children:Object(C.jsx)("div",{style:{height:"100%",overflow:"auto"},children:Object(C.jsxs)(w.a,{striped:!0,style:{width:"100%",backgroundColor:"rgba(33,53,108,0)",borderRadius:"7px",overflow:"auto"},unstackable:!0,children:[Object(C.jsx)(w.a.Header,{children:Object(C.jsxs)(w.a.Row,{children:[Object(C.jsx)(w.a.HeaderCell,{id:"thc",children:"CLASS"}),Object(C.jsx)(w.a.HeaderCell,{id:"thc",children:"NAME"}),Object(C.jsx)(w.a.HeaderCell,{id:"thc",children:"DUE"}),Object(C.jsx)(w.a.HeaderCell,{id:"thc",children:"DAYS"})]})}),Object(C.jsx)(w.a.Body,{id:"tbody",children:this.tableBoard(this.state.assignments)})]})})}),Object(C.jsxs)("div",{style:{margin:"5%",width:"25%",height:"54vh",display:"inline-block",backgroundColor:"rgba(33,53,108,0.7)",padding:"1.5%",marginLeft:"0px"},children:[Object(C.jsxs)("div",{style:{height:"95%"},children:[Object(C.jsx)(f.a,{onClick:function(){return t.click("left")},color:"orange",style:{float:"left",margin:"0px",width:"48%"},children:Object(C.jsx)(v.a,{style:{padding:"0px",margin:"0px"},name:"arrow alternate circle left"})}),Object(C.jsx)(f.a,{onClick:function(){return t.click("right")},color:"orange",style:{float:"right",margin:"0px",marginBottom:"7px",width:"48%"},children:Object(C.jsx)(v.a,{style:{padding:"0px",margin:"0px"},name:"arrow alternate circle right"})}),Object(C.jsx)("div",{children:s})]}),Object(C.jsx)("div",{style:{height:"5%"},children:Object(C.jsx)("h3",{style:{fontFamily:"monospace",fontSize:"110%",textAlign:"center",color:"white"},children:a})})]})]})]})]})}},{key:"classesComponent",value:function(){var e=this,t=(this.state.classes,this.state.schedule),n=this.state.today;if(null===n){n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(new Date).getDay()]}for(var a=[],s=0;s<t.length;s++)t[s].dayOfWeek===n&&a.push(t[s]);return a.length>0?a.sort((function(e,t){return e.timeStart-t.timeStart})).map((function(t){return Object(C.jsxs)(S.a,{color:"blue",style:{width:"100%",margin:"2px"},children:[Object(C.jsxs)("div",{style:{float:"left"},children:[12===t.timeStart?t.timeStart+"PM":t.timeStart<12?t.timeStart+"AM":t.timeStart-12+"PM"," - ",t.timeStart+t.length===12?t.timeStart+t.length+"PM":t.timeStart+t.length>12?t.timeStart+t.length-12+"PM":t.timeStart+t.length+"AM"]}),Object(C.jsx)("div",{style:{float:"right"},children:e.getClassName(t.class_id)})]},t.id)})):Object(C.jsx)("div",{style:{width:"100%",textAlign:"center"},children:"no class today"}),Object(C.jsx)("div",{style:{width:"100%",height:"100vh",overflowY:"auto"}})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:this.state.classes&&this.state.schedule&&this.state.assignments&&this.piProject()})}}]),n}(s.a.Component),M=n(189),T=(n.p,function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={users:null,username:null,password:null,status:" ",user:null},a.handleUsername=a.handleUsername.bind(Object(c.a)(a)),a.handlePassword=a.handlePassword.bind(Object(c.a)(a)),a}return Object(o.a)(n,[{key:"handleUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"loginUser",value:function(){var e=this,t={username:this.state.username,password:this.state.password};g.a.post("https://maxwelljonesdesign.com/users/login",t).then((function(t){t.data?(console.log("sucess"),localStorage.setItem("user",JSON.stringify(t.data)),e.setState({status:"Success",user:t.data})):(console.log("no user found"),e.setState({status:"Not Succesful"}))}))}},{key:"componentDidMount",value:function(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user"));this.setState({user:e})}}},{key:"loginComponent",value:function(){var e=this;return Object(C.jsx)("div",{id:"contain",children:Object(C.jsxs)("div",{id:"content",children:[Object(C.jsxs)(k.a,{id:"card",children:[Object(C.jsx)("div",{style:{margin:"10px",padding:"1.5vh",textAlign:"center",color:"white",backgroundColor:"rgba(46, 61, 115)"},children:Object(C.jsx)("h1",{style:{color:"#D37506",fontFamily:"Share Tech"},children:"ST L o g i n"})}),Object(C.jsxs)("div",{style:{textAlign:"center",fontFamily:"Share Tech",margin:"10px",padding:"1.5vh",backgroundColor:"rgba(46, 61, 115)"},children:[Object(C.jsx)(M.a,{onChange:this.handleUsername,style:{width:"90%",margin:"1vh"},iconPosition:"left",icon:"male",placeholder:"USERNAME"}),Object(C.jsx)(M.a,{type:"password",onKeyPress:function(t){"Enter"===t.key&&e.loginUser()},onChange:this.handlePassword,style:{width:"90%",margin:"1vh"},iconPosition:"left",icon:"lock",placeholder:"PASSWORD"}),Object(C.jsx)(f.a,{onClick:function(){return e.loginUser()},style:{margin:"1vh",color:"white"},color:"orange",size:"mini",children:"LOGIN"}),Object(C.jsx)("p",{style:{color:"white",marginTop:"5px",width:"100%",textAlign:"center"},children:Object(C.jsx)("a",{target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"white"},href:"mailto:maxjones2001@hotmail.com",children:"Need help?"})})]})]}),Object(C.jsx)("p",{style:{opacity:"40%",color:"white",marginTop:"-5px",width:"100%",textAlign:"center"},children:Object(C.jsx)("a",{target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"white"},href:"https://maxwelljones.ca",children:"maxwelljones.ca"})})]})})}},{key:"render",value:function(){return Object(C.jsxs)("div",{style:{position:"unset"},children:[!this.state.user&&this.loginComponent(),this.state.user&&Object(C.jsx)(D,{user:this.state.user})]})}}]),n}(s.a.Component));n(175);l.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(T,{})}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.b4993a8f.chunk.js.map